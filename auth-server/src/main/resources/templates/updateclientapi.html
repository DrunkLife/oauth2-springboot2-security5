<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:include="basefragment">
  <title id="title">Dashboard</title>
</head>
<div class="container">
  <div th:if="${updateClientFailed}" th:text="${updateClientFailed}" class="alert alert-danger">Client not found.</div>
  <div th:if="${clientApi}">
    <h3>Register client API</h3>
    <div>&nbsp;</div>
    <form method="post" th:object="${clientApi}" th:action="@{/clientapi/update}">
      <div class="form-group row">
        <label for="currentclientId" class="col-sm-2 col-form-label">Client-ID</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="currentclientId" th:field="*{clientId}" readonly>
        </div>
      </div>
      <div class="form-group row">
        <label for="currentclientSecret" class="col-sm-2 col-form-label">Client-Secret</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="currentclientSecret" th:field="*{clientSecret}" readonly>
        </div>
      </div>
      <div class="form-group row">
        <label for="currentscope" class="col-sm-2 col-form-label">Scope</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="currentscope" th:field="*{scope}" readonly>
        </div>
      </div>
      <div class="form-group row">
        <label for="currentaccessTokenValidity" class="col-sm-2 col-form-label">Access Token Validity</label>
        <div class="col-sm-10">
          <input type="datetime-local" class="form-control" id="currentaccessTokenValidity" th:value="*{accessTokenValidityDate}" readonly>
        </div>
      </div>
      <div class="form-group row">
        <label for="currentrefreshTokenValidity" class="col-sm-2 col-form-label">Refresh Token Validity</label>
        <div class="col-sm-10">
          <input type="datetime-local" class="form-control" id="currentrefreshTokenValidity" th:value="*{refreshTokenValidityDate}" readonly>
        </div>
      </div>
      <div class="form-group row">
        <label for="currentwebServerRedirectUri" class="col-sm-2 col-form-label">Callback URI</label>
        <div class="col-sm-10">
          <input type="url" class="form-control" id="currentwebServerRedirectUri" th:field="*{webServerRedirectUri}" placeholder="https://www/example.com" required>
        </div>
      </div>
      <button type="submit" class="btn btn-primary">Update</button>
    </form>

    <div>&nbsp;</div>
    <h3>Generate token</h3>
    <form id="generateId" class="form-inline" method="post">
      <div class="form-group mb-2">
        <label>Please input your password</label>
      </div>
      <div class="form-group mx-sm-3 mb-2">
        <input id="password" type="password" class="form-control" placeholder="Password" required>
      </div>
      <button type="submit" class="btn btn-primary mb-2">Generate</button>
    </form>

    <div class="mb-3">
      <textarea id="token"  class="form-control" readonly></textarea>
    </div>
  </div>
</div>
